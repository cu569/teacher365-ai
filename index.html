from selenium import webdriver
from selenium.webdriver.common.by import By
from selenium.webdriver.chrome.service import Service
from webdriver_manager.chrome import ChromeDriverManager
import time

# ===== 사용자 설정 =====
VIDEO_PATH = r"C:\video\test.mp4"   # 업로드할 영상 경로
TITLE = "리마 자동화 업로드 테스트"
DESCRIPTION = "리마가 직접 올린 영상입니다!"

# ===== 크롬 프로필 경로 (로그인 유지용) =====
PROFILE_PATH = r"C:\Users\Park\AppData\Local\Google\Chrome\User Data"

# ===== 크롬 옵션 설정 =====
options = webdriver.ChromeOptions()
options.add_argument(f"--user-data-dir={PROFILE_PATH}")
options.add_argument("--profile-directory=Default")
options.add_argument("--disable-gpu")
options.add_argument("--no-sandbox")

# ===== 드라이버 실행 =====
driver = webdriver.Chrome(service=Service(ChromeDriverManager().install()), options=options)
driver.get("https://studio.youtube.com/upload")

# ===== 파일 업로드 =====
time.sleep(5)
file_input = driver.find_element(By.XPATH, "//input[@type='file']")
file_input.send_keys(VIDEO_PATH)

# ===== 제목/설명 입력 =====
time.sleep(2)
boxes = driver.find_elements(By.ID, "textbox")
if len(boxes) >= 2:
    boxes[0].clear()
    boxes[0].send_keys(TITLE)
    boxes[1].send_keys(DESCRIPTION)

time.sleep(2)
print("업로드 자동화 완료!")
